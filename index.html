<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Segment K√ºt√ºphanesi | Time & Growity</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #0f0f1a 0%, #1a1a2e 100%); min-height: 100vh; color: #fff; }
        
        /* Header */
        .header { background: rgba(255,255,255,0.03); border-bottom: 1px solid rgba(255,255,255,0.1); padding: 16px 24px; display: flex; justify-content: space-between; align-items: center; position: relative; }
        .logo { font-size: 20px; font-weight: 700; color: #4fc3f7; display: flex; align-items: center; gap: 10px; }
        .logo-sub { font-size: 11px; color: #666; font-weight: 400; }
        .header-right { display: flex; align-items: center; gap: 16px; }
        .po-btn { display: flex; align-items: center; justify-content: center; width: 40px; height: 32px; background: rgba(227,30,36,0.15); border: 1px solid rgba(227,30,36,0.4); border-radius: 6px; cursor: pointer; transition: all 0.2s; }
        .po-btn:hover { background: rgba(227,30,36,0.3); transform: scale(1.05); }
        .po-btn img.po-logo { width: 140px; height: auto; display: block; }
        .selected-count { background: rgba(79,195,247,0.2); padding: 8px 16px; border-radius: 20px; font-size: 13px; color: #4fc3f7; }
        .selected-count strong { color: #fff; }
        .btn { padding: 12px 24px; border: none; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: 8px; }
        .btn-primary { background: linear-gradient(135deg, #4fc3f7, #29b6f6); color: #000; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(79,195,247,0.3); }
        .btn-primary:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
        
        /* Main */
        .main { max-width: 1800px; margin: 0 auto; padding: 24px; }
        
        /* Hero */
        .hero { text-align: center; padding: 40px 20px; margin-bottom: 32px; }
        .hero-title { font-size: 36px; font-weight: 700; margin-bottom: 12px; background: linear-gradient(135deg, #fff, #4fc3f7); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .hero-subtitle { font-size: 16px; color: #888; max-width: 600px; margin: 0 auto; }
        
        /* Stats Bar */
        .stats-bar { display: flex; gap: 16px; margin-bottom: 24px; flex-wrap: wrap; justify-content: center; }
        .stat-pill { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); padding: 12px 20px; border-radius: 30px; font-size: 13px; display: flex; align-items: center; gap: 8px; }
        .stat-pill strong { color: #4fc3f7; font-size: 16px; }
        
        /* Search & Filters */
        .controls { display: flex; gap: 16px; margin-bottom: 24px; flex-wrap: wrap; }
        .search-box { flex: 1; min-width: 300px; position: relative; }
        .search-input { width: 100%; padding: 14px 20px 14px 50px; border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; background: rgba(255,255,255,0.05); color: #fff; font-size: 15px; }
        .search-input::placeholder { color: #555; }
        .search-input:focus { outline: none; border-color: #4fc3f7; background: rgba(255,255,255,0.08); }
        .search-icon { position: absolute; left: 18px; top: 50%; transform: translateY(-50%); font-size: 18px; }
        .filter-btns { display: flex; gap: 8px; flex-wrap: wrap; }
        .filter-btn { padding: 12px 20px; border: 1px solid rgba(255,255,255,0.15); border-radius: 10px; background: rgba(255,255,255,0.03); color: #aaa; font-size: 13px; cursor: pointer; transition: all 0.2s; }
        .filter-btn:hover { background: rgba(255,255,255,0.08); color: #fff; }
        .filter-btn.active { background: rgba(79,195,247,0.2); border-color: #4fc3f7; color: #4fc3f7; }
        
        /* Segment Grid */
        .segment-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 20px; }
        
        /* Parent Segment Card */
        .parent-card { background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.08); border-radius: 16px; overflow: hidden; transition: all 0.3s; }
        .parent-card:hover { border-color: rgba(255,255,255,0.15); }
        .parent-header { padding: 16px 20px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .parent-info { display: flex; align-items: center; gap: 12px; }
        .parent-icon { width: 40px; height: 40px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 20px; }
        .parent-name { font-size: 15px; font-weight: 600; }
        .parent-count { font-size: 11px; color: #666; margin-top: 2px; }
        .parent-actions { display: flex; align-items: center; gap: 12px; }
        .select-all-btn { padding: 6px 12px; border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; background: transparent; color: #888; font-size: 11px; cursor: pointer; transition: all 0.2s; }
        .select-all-btn:hover { background: rgba(255,255,255,0.1); color: #fff; }
        .expand-icon { font-size: 12px; color: #666; transition: transform 0.3s; }
        .parent-card.expanded .expand-icon { transform: rotate(180deg); }
        
        /* Sub Segments */
        .sub-segments { max-height: 0; overflow: hidden; transition: max-height 0.4s ease; }
        .parent-card.expanded .sub-segments { max-height: 1000px; }
        .sub-segment { display: flex; align-items: center; gap: 12px; padding: 12px 20px; border-bottom: 1px solid rgba(255,255,255,0.03); cursor: pointer; transition: all 0.2s; }
        .sub-segment:hover { background: rgba(255,255,255,0.03); }
        .sub-segment:last-child { border-bottom: none; }
        .sub-segment.selected { background: rgba(79,195,247,0.1); }
        .checkbox { width: 20px; height: 20px; border: 2px solid rgba(255,255,255,0.2); border-radius: 5px; display: flex; align-items: center; justify-content: center; transition: all 0.2s; flex-shrink: 0; }
        .checkbox.checked { background: #4fc3f7; border-color: #4fc3f7; }
        .checkbox.checked::after { content: '‚úì'; color: #000; font-size: 12px; font-weight: bold; }
        .sub-info { flex: 1; }
        .sub-name { font-size: 13px; font-weight: 500; }
        .sub-desc { font-size: 11px; color: #666; margin-top: 2px; }
        .sub-meta { display: flex; gap: 8px; }
        .meta-tag { padding: 3px 8px; border-radius: 12px; font-size: 10px; background: rgba(255,255,255,0.05); color: #888; }
        
        /* Color Themes for Parents */
        .theme-blue .parent-icon { background: rgba(33,150,243,0.2); color: #64b5f6; }
        .theme-purple .parent-icon { background: rgba(156,39,176,0.2); color: #ba68c8; }
        .theme-green .parent-icon { background: rgba(76,175,80,0.2); color: #81c784; }
        .theme-orange .parent-icon { background: rgba(255,152,0,0.2); color: #ffb74d; }
        .theme-red .parent-icon { background: rgba(244,67,54,0.2); color: #e57373; }
        .theme-cyan .parent-icon { background: rgba(0,188,212,0.2); color: #4dd0e1; }
        .theme-pink .parent-icon { background: rgba(233,30,99,0.2); color: #f06292; }
        .theme-teal .parent-icon { background: rgba(0,150,136,0.2); color: #4db6ac; }
        .theme-indigo .parent-icon { background: rgba(63,81,181,0.2); color: #7986cb; }
        .theme-amber .parent-icon { background: rgba(255,193,7,0.2); color: #ffd54f; }
        
        /* Empty State */
        .empty-state { text-align: center; padding: 60px 20px; color: #666; }
        .empty-state-icon { font-size: 64px; margin-bottom: 16px; }
        
        /* Footer Actions */
        .footer-actions { position: fixed; bottom: 0; left: 0; right: 0; background: rgba(15,15,26,0.95); border-top: 1px solid rgba(255,255,255,0.1); padding: 16px 24px; display: flex; justify-content: space-between; align-items: center; transform: translateY(100%); transition: transform 0.3s; }
        .footer-actions.visible { transform: translateY(0); }
        .footer-left { display: flex; align-items: center; gap: 16px; }
        .clear-btn { padding: 10px 20px; border: 1px solid rgba(255,255,255,0.2); border-radius: 8px; background: transparent; color: #888; font-size: 13px; cursor: pointer; }
        .clear-btn:hover { background: rgba(255,255,255,0.05); color: #fff; }
        
        /* Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: rgba(255,255,255,0.02); }
        ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.2); }
        
        /* Responsive */
        @media (max-width: 768px) {
            .segment-grid { grid-template-columns: 1fr; }
            .hero-title { font-size: 28px; }
            .controls { flex-direction: column; }
            .po-btn img.po-logo { width: 100px; }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">
            üéØ Segment K√ºt√ºphanesi
            <span class="logo-sub">by Time & Growity</span>
        </div>
        <div class="header-right">
            <a href="segmentation-quadrant/po-segmentasyon/" class="po-btn" title="Petrol Ofisi Premium Market">
                <img src="image.png" alt="Petrol Ofisi Premium Market" class="po-logo" />
            </a>
            <div class="selected-count">
                <strong id="selectedCount">0</strong> segment se√ßildi
            </div>
            <button class="btn btn-primary" id="goToQuadrant" disabled onclick="goToQuadrant()">
                Quadrant'a Git ‚Üí
            </button>
        </div>
    </header>

    <main class="main">
        <div class="hero">
            <h1 class="hero-title">Hedef Kitle Segment K√ºt√ºphanesi</h1>
            <p class="hero-subtitle">100+ hazƒ±r segmentten projeniz i√ßin uygun olanlarƒ± se√ßin ve interaktif quadrant analizine g√∂nderin</p>
        </div>

        <div class="stats-bar">
            <div class="stat-pill"><strong id="totalParents">30</strong> Ana Segment</div>
            <div class="stat-pill"><strong id="totalSubs">120</strong> Alt Segment</div>
            <div class="stat-pill"><strong>3</strong> Platform Desteƒüi</div>
            <div class="stat-pill"><strong>BHT</strong> Entegrasyonu</div>
        </div>

        <div class="controls">
            <div class="search-box">
                <span class="search-icon">üîç</span>
                <input type="text" class="search-input" id="searchInput" placeholder="Segment ara..." oninput="filterSegments()">
            </div>
            <div class="filter-btns">
                <button class="filter-btn active" data-filter="all" onclick="setFilter('all')">T√ºm√º</button>
                <button class="filter-btn" data-filter="aile" onclick="setFilter('aile')">üë®‚Äçüë©‚Äçüëß Aile</button>
                <button class="filter-btn" data-filter="teknoloji" onclick="setFilter('teknoloji')">üì± Teknoloji</button>
                <button class="filter-btn" data-filter="yasam" onclick="setFilter('yasam')">üåø Ya≈üam Tarzƒ±</button>
                <button class="filter-btn" data-filter="alisveris" onclick="setFilter('alisveris')">üõí Alƒ±≈üveri≈ü</button>
                <button class="filter-btn" data-filter="seyahat" onclick="setFilter('seyahat')">‚úàÔ∏è Seyahat</button>
                <button class="filter-btn" data-filter="finans" onclick="setFilter('finans')">üí∞ Finans</button>
            </div>
        </div>

        <div class="segment-grid" id="segmentGrid"></div>
    </main>

    <div class="footer-actions" id="footerActions">
        <div class="footer-left">
            <button class="clear-btn" onclick="clearSelection()">Se√ßimi Temizle</button>
            <span style="color:#666;font-size:13px;" id="footerInfo">Quadrant i√ßin en az 5 segment se√ßin</span>
        </div>
        <button class="btn btn-primary" onclick="goToQuadrant()">
            Quadrant Analizine Git ‚Üí
        </button>
    </div>

    <script>
        // Segment K√ºt√ºphanesi - 30 Ana Segment, 120+ Alt Segment
        const segmentLibrary = [
            {
                id: 'aileler',
                name: 'Aileler & Ebeveynler',
                icon: 'üë®‚Äçüë©‚Äçüëß',
                theme: 'theme-blue',
                category: 'aile',
                subs: [
                    { id: 'aileler_1', name: 'Yeni Ebeveynler (0-2 ya≈ü)', desc: 'ƒ∞lk √ßocuƒüunu bekleyen veya yeni doƒüum yapmƒ±≈ü aileler', reach: 2500000 },
                    { id: 'aileler_2', name: 'Okul √ñncesi Ebeveynleri', desc: '3-6 ya≈ü arasƒ± √ßocuklu aileler', reach: 3200000 },
                    { id: 'aileler_3', name: 'ƒ∞lkokul Velileri', desc: '7-11 ya≈ü arasƒ± √ßocuklu aileler', reach: 4100000 },
                    { id: 'aileler_4', name: 'Ergen Ebeveynleri', desc: '12-18 ya≈ü arasƒ± √ßocuklu aileler', reach: 3800000 },
                ]
            },
            {
                id: 'genc_yetiskinler',
                name: 'Gen√ß Yeti≈ükinler',
                icon: 'üéì',
                theme: 'theme-purple',
                category: 'yasam',
                subs: [
                    { id: 'genc_1', name: '√úniversite √ñƒürencileri', desc: 'Aktif √ºniversite √∂ƒürencileri', reach: 4500000 },
                    { id: 'genc_2', name: 'Yeni Mezunlar', desc: 'Son 2 yƒ±lda mezun olmu≈ü gen√ßler', reach: 1800000 },
                    { id: 'genc_3', name: 'Kariyer Ba≈ülangƒ±cƒ±', desc: 'ƒ∞lk i≈üinde √ßalƒ±≈üan 22-28 ya≈ü', reach: 3200000 },
                    { id: 'genc_4', name: 'Bekar Profesyoneller', desc: 'Evlenmemi≈ü, kariyer odaklƒ± gen√ßler', reach: 2900000 },
                ]
            },
            {
                id: 'teknoloji_meraklilari',
                name: 'Teknoloji Meraklƒ±larƒ±',
                icon: 'üì±',
                theme: 'theme-cyan',
                category: 'teknoloji',
                subs: [
                    { id: 'tech_1', name: 'Early Adopters', desc: 'Yeni teknolojileri ilk deneyen kullanƒ±cƒ±lar', reach: 1200000 },
                    { id: 'tech_2', name: 'Gadget Tutkunlarƒ±', desc: 'Elektronik cihaz koleksiyoncularƒ±', reach: 2100000 },
                    { id: 'tech_3', name: 'Yazƒ±lƒ±m Geli≈ütiriciler', desc: 'Profesyonel ve amat√∂r kodcular', reach: 850000 },
                    { id: 'tech_4', name: 'Gaming Topluluƒüu', desc: 'Aktif oyun oynayan kullanƒ±cƒ±lar', reach: 5200000 },
                    { id: 'tech_5', name: 'Akƒ±llƒ± Ev Kullanƒ±cƒ±larƒ±', desc: 'IoT ve akƒ±llƒ± ev sistemleri kullananlar', reach: 1500000 },
                ]
            },
            {
                id: 'saglik_fitness',
                name: 'Saƒülƒ±k & Fitness',
                icon: 'üí™',
                theme: 'theme-green',
                category: 'yasam',
                subs: [
                    { id: 'saglik_1', name: 'Spor Salonu √úyeleri', desc: 'D√ºzenli fitness merkezi kullananlar', reach: 3800000 },
                    { id: 'saglik_2', name: 'Ko≈üucular & Maratoncular', desc: 'Ko≈üu sporuna ilgi duyanlar', reach: 2200000 },
                    { id: 'saglik_3', name: 'Yoga & Pilates Severler', desc: 'Zihin-beden egzersizleri yapanlar', reach: 1900000 },
                    { id: 'saglik_4', name: 'Diyet Takip√ßileri', desc: 'Aktif diyet ve beslenme programƒ± uygulayan', reach: 4100000 },
                    { id: 'saglik_5', name: 'Doƒüal Ya≈üam Savunucularƒ±', desc: 'Organik ve doƒüal √ºr√ºn tercih edenler', reach: 2800000 },
                ]
            },
            {
                id: 'seyahat_turizm',
                name: 'Seyahat & Turizm',
                icon: '‚úàÔ∏è',
                theme: 'theme-orange',
                category: 'seyahat',
                subs: [
                    { id: 'seyahat_1', name: 'Sƒ±k Seyahat Edenler', desc: 'Yƒ±lda 5+ kez seyahat edenler', reach: 2100000 },
                    { id: 'seyahat_2', name: 'L√ºks Tatilciler', desc: '5 yƒ±ldƒ±zlƒ± otel tercih edenler', reach: 890000 },
                    { id: 'seyahat_3', name: 'B√ºt√ße Gezginleri', desc: 'Ekonomik seyahat se√ßenekleri arayanlar', reach: 4500000 },
                    { id: 'seyahat_4', name: 'Macera Tutkunlarƒ±', desc: 'Ekstrem sporlar ve macera turlarƒ±', reach: 1400000 },
                    { id: 'seyahat_5', name: 'K√ºlt√ºr Turisti', desc: 'Tarihi ve k√ºlt√ºrel gezi yapanlar', reach: 2600000 },
                ]
            },
            {
                id: 'oto_suruculer',
                name: 'Otomobil & S√ºr√ºc√ºler',
                icon: 'üöó',
                theme: 'theme-red',
                category: 'yasam',
                subs: [
                    { id: 'oto_1', name: 'Yeni Ara√ß Alƒ±cƒ±larƒ±', desc: 'Son 6 ayda ara√ß almayƒ± planlayanlar', reach: 1800000 },
                    { id: 'oto_2', name: 'Premium Ara√ß Sahipleri', desc: 'L√ºks segment ara√ß kullananlar', reach: 650000 },
                    { id: 'oto_3', name: 'SUV & Crossover Sahipleri', desc: 'B√ºy√ºk aile ara√ßlarƒ± kullananlar', reach: 2400000 },
                    { id: 'oto_4', name: 'Uzun Yol S√ºr√ºc√ºleri', desc: 'D√ºzenli ≈üehirlerarasƒ± yolculuk yapanlar', reach: 3100000 },
                    { id: 'oto_5', name: 'Elektrikli Ara√ß ƒ∞lgilileri', desc: 'EV ve hibrit ara√ßlara ilgi duyanlar', reach: 1200000 },
                ]
            },
            {
                id: 'finansal_profiller',
                name: 'Finansal Profiller',
                icon: 'üí∞',
                theme: 'theme-amber',
                category: 'finans',
                subs: [
                    { id: 'finans_1', name: 'Yatƒ±rƒ±mcƒ±lar', desc: 'Aktif borsa veya fon yatƒ±rƒ±mcƒ±larƒ±', reach: 2200000 },
                    { id: 'finans_2', name: 'Kredi Kartƒ± Aktif Kullanƒ±cƒ±lar', desc: 'Y√ºksek harcama hacimli kart sahipleri', reach: 5800000 },
                    { id: 'finans_3', name: 'Kripto Para ƒ∞lgilileri', desc: 'Kripto varlƒ±k sahipleri', reach: 1900000 },
                    { id: 'finans_4', name: 'Sigorta Ara≈ütƒ±ranlar', desc: 'Sigorta √ºr√ºnleri kar≈üƒ±la≈ütƒ±ranlar', reach: 3400000 },
                ]
            },
            {
                id: 'alisveris_davranislari',
                name: 'Alƒ±≈üveri≈ü Davranƒ±≈ülarƒ±',
                icon: 'üõí',
                theme: 'theme-pink',
                category: 'alisveris',
                subs: [
                    { id: 'alisveris_1', name: 'Online Alƒ±≈üveri≈ü Baƒüƒ±mlƒ±larƒ±', desc: 'Ayda 5+ online alƒ±≈üveri≈ü yapanlar', reach: 8200000 },
                    { id: 'alisveris_2', name: 'ƒ∞ndirim Avcƒ±larƒ±', desc: 'Promosyon ve kampanya takip√ßileri', reach: 6500000 },
                    { id: 'alisveris_3', name: 'L√ºks T√ºketiciler', desc: 'Premium marka tercih edenler', reach: 1100000 },
                    { id: 'alisveris_4', name: 'ƒ∞mpuls Alƒ±cƒ±lar', desc: 'Anlƒ±k satƒ±n alma eƒüilimi y√ºksek olanlar', reach: 4300000 },
                    { id: 'alisveris_5', name: 'Sadƒ±k M√º≈üteriler', desc: 'Marka sadakati y√ºksek t√ºketiciler', reach: 3900000 },
                ]
            },
            {
                id: 'yeme_icme',
                name: 'Yeme & ƒ∞√ßme',
                icon: 'üçΩÔ∏è',
                theme: 'theme-teal',
                category: 'yasam',
                subs: [
                    { id: 'yeme_1', name: 'Gurme Lezzet√ßiler', desc: 'Yeni restoranlarƒ± ke≈üfeden foodie\'ler', reach: 2800000 },
                    { id: 'yeme_2', name: 'Ev ≈ûefleri', desc: 'Evde yemek yapmayƒ± seven a≈ü√ßƒ±lar', reach: 4200000 },
                    { id: 'yeme_3', name: 'Kahve Tutkunlarƒ±', desc: '√ñzel kahve t√ºketen kahve severler', reach: 5100000 },
                    { id: 'yeme_4', name: 'Vejetaryen & Veganlar', desc: 'Bitkisel beslenme tercih edenler', reach: 1400000 },
                    { id: 'yeme_5', name: 'Hazƒ±r Yemek Sipari≈ü√ßileri', desc: 'Sƒ±k yemek sipari≈üi verenler', reach: 6800000 },
                ]
            },
            {
                id: 'moda_guzellik',
                name: 'Moda & G√ºzellik',
                icon: 'üëó',
                theme: 'theme-pink',
                category: 'alisveris',
                subs: [
                    { id: 'moda_1', name: 'Trend Takip√ßileri', desc: 'Moda trendlerini yakƒ±ndan izleyenler', reach: 3600000 },
                    { id: 'moda_2', name: 'Kozmetik Meraklƒ±larƒ±', desc: 'Makyaj ve cilt bakƒ±mƒ± tutkunlarƒ±', reach: 4800000 },
                    { id: 'moda_3', name: 'L√ºks Moda T√ºketicileri', desc: 'Designer marka tercih edenler', reach: 720000 },
                    { id: 'moda_4', name: 'S√ºrd√ºr√ºlebilir Moda', desc: 'Etik ve √ßevreci moda tercih edenler', reach: 1800000 },
                ]
            },
            {
                id: 'eglence_medya',
                name: 'Eƒülence & Medya',
                icon: 'üé¨',
                theme: 'theme-purple',
                category: 'yasam',
                subs: [
                    { id: 'eglence_1', name: 'Dizi & Film ƒ∞zleyicileri', desc: 'Yoƒüun streaming platformu kullanƒ±cƒ±larƒ±', reach: 12500000 },
                    { id: 'eglence_2', name: 'M√ºzik Dinleyicileri', desc: 'Aktif m√ºzik streaming kullanƒ±cƒ±larƒ±', reach: 9800000 },
                    { id: 'eglence_3', name: 'Podcast Dinleyicileri', desc: 'D√ºzenli podcast takip√ßileri', reach: 3200000 },
                    { id: 'eglence_4', name: 'Konser & Festival Katƒ±lƒ±mcƒ±larƒ±', desc: 'Canlƒ± etkinlik katƒ±lƒ±mcƒ±larƒ±', reach: 2100000 },
                    { id: 'eglence_5', name: 'E-spor Takip√ßileri', desc: 'E-spor m√ºsabakalarƒ± izleyenler', reach: 1800000 },
                ]
            },
            {
                id: 'ev_yasam',
                name: 'Ev & Ya≈üam Alanƒ±',
                icon: 'üè†',
                theme: 'theme-teal',
                category: 'alisveris',
                subs: [
                    { id: 'ev_1', name: 'Ev Sahipleri', desc: 'Kendi evinde oturanlar', reach: 8900000 },
                    { id: 'ev_2', name: 'Kiracƒ±lar', desc: 'Kirada oturan haneler', reach: 6200000 },
                    { id: 'ev_3', name: 'Yeni Ev Arayanlar', desc: 'Aktif ev arayan potansiyel alƒ±cƒ±lar', reach: 2800000 },
                    { id: 'ev_4', name: 'Dekorasyon Tutkunlarƒ±', desc: 'Ev dekorasyonu ile ilgilenenler', reach: 4100000 },
                    { id: 'ev_5', name: 'Bah√ße & Hobi Bah√ßeciler', desc: 'Bah√ße ve bitki bakƒ±mƒ± yapanlar', reach: 2400000 },
                ]
            },
            {
                id: 'egitim_gelisim',
                name: 'Eƒüitim & Ki≈üisel Geli≈üim',
                icon: 'üìö',
                theme: 'theme-indigo',
                category: 'yasam',
                subs: [
                    { id: 'egitim_1', name: 'Online Kurs Katƒ±lƒ±mcƒ±larƒ±', desc: 'E-√∂ƒürenme platformlarƒ± kullanƒ±cƒ±larƒ±', reach: 3400000 },
                    { id: 'egitim_2', name: 'Dil √ñƒürenenler', desc: 'Yabancƒ± dil kursu alanlar', reach: 2800000 },
                    { id: 'egitim_3', name: 'Profesyonel Geli≈üim', desc: 'Kariyer eƒüitimi alanlar', reach: 2100000 },
                    { id: 'egitim_4', name: 'Kitap Okuyucularƒ±', desc: 'D√ºzenli kitap okuyan bireyler', reach: 4600000 },
                ]
            },
            {
                id: 'evcil_hayvan',
                name: 'Evcil Hayvan Sahipleri',
                icon: 'üêï',
                theme: 'theme-orange',
                category: 'yasam',
                subs: [
                    { id: 'pet_1', name: 'K√∂pek Sahipleri', desc: 'K√∂pek besleyen haneler', reach: 4200000 },
                    { id: 'pet_2', name: 'Kedi Sahipleri', desc: 'Kedi besleyen haneler', reach: 5100000 },
                    { id: 'pet_3', name: 'Premium Pet T√ºketicileri', desc: 'Y√ºksek harcama yapan pet sahipleri', reach: 1800000 },
                    { id: 'pet_4', name: 'Yeni Pet Sahipleri', desc: 'Son 1 yƒ±lda hayvan sahiplenenler', reach: 1200000 },
                ]
            },
            {
                id: 'calisma_hayati',
                name: '√áalƒ±≈üma Hayatƒ±',
                icon: 'üíº',
                theme: 'theme-blue',
                category: 'yasam',
                subs: [
                    { id: 'calisma_1', name: 'Uzaktan √áalƒ±≈üanlar', desc: 'Remote veya hibrit √ßalƒ±≈üanlar', reach: 3800000 },
                    { id: 'calisma_2', name: 'Giri≈üimciler', desc: 'Kendi i≈üini kuran veya kurmayƒ± planlayan', reach: 1400000 },
                    { id: 'calisma_3', name: 'Freelancerlar', desc: 'Serbest √ßalƒ±≈üan profesyoneller', reach: 2200000 },
                    { id: 'calisma_4', name: 'C-Level Y√∂neticiler', desc: '√úst d√ºzey karar vericiler', reach: 180000 },
                    { id: 'calisma_5', name: 'KOBƒ∞ Sahipleri', desc: 'K√º√ß√ºk ve orta i≈ületme sahipleri', reach: 1600000 },
                ]
            },
            {
                id: 'sosyal_medya',
                name: 'Sosyal Medya Profilleri',
                icon: 'üì≤',
                theme: 'theme-cyan',
                category: 'teknoloji',
                subs: [
                    { id: 'sosyal_1', name: 'Instagram Aktif Kullanƒ±cƒ±lar', desc: 'G√ºnl√ºk Instagram kullananlar', reach: 18000000 },
                    { id: 'sosyal_2', name: 'TikTok Creators', desc: 'ƒ∞√ßerik √ºreten TikTok kullanƒ±cƒ±larƒ±', reach: 4200000 },
                    { id: 'sosyal_3', name: 'LinkedIn Profesyonelleri', desc: 'Aktif LinkedIn kullanƒ±cƒ±larƒ±', reach: 5600000 },
                    { id: 'sosyal_4', name: 'Twitter/X Aktif Kullanƒ±cƒ±lar', desc: 'G√ºncel olaylarƒ± takip edenler', reach: 6800000 },
                    { id: 'sosyal_5', name: 'YouTube ƒ∞√ßerik √úreticileri', desc: 'Video i√ßerik √ºretenler', reach: 2400000 },
                ]
            },
            {
                id: 'cevre_surdurulebilirlik',
                name: '√áevre & S√ºrd√ºr√ºlebilirlik',
                icon: 'üå±',
                theme: 'theme-green',
                category: 'yasam',
                subs: [
                    { id: 'cevre_1', name: '√áevre Aktivistleri', desc: 'Aktif √ßevre savunucularƒ±', reach: 1800000 },
                    { id: 'cevre_2', name: 'Geri D√∂n√º≈ü√ºm Bilin√ßliler', desc: 'D√ºzenli geri d√∂n√º≈ü√ºm yapanlar', reach: 6200000 },
                    { id: 'cevre_3', name: 'Enerji Tasarrufu Odaklƒ±lar', desc: 'Enerji verimliliƒüi √∂nemseyen', reach: 4100000 },
                    { id: 'cevre_4', name: 'Sƒ±fƒ±r Atƒ±k Takip√ßileri', desc: 'Minimal atƒ±k ya≈üam tarzƒ± benimseyenler', reach: 980000 },
                ]
            },
            {
                id: 'saglik_hizmetleri',
                name: 'Saƒülƒ±k Hizmetleri',
                icon: 'üè•',
                theme: 'theme-red',
                category: 'yasam',
                subs: [
                    { id: 'saglik_h_1', name: '√ñzel Saƒülƒ±k Sigortasƒ± Sahipleri', desc: 'Tamamlayƒ±cƒ± saƒülƒ±k sigortasƒ± olanlar', reach: 3200000 },
                    { id: 'saglik_h_2', name: 'Kronik Hastalƒ±k Y√∂netimi', desc: 'D√ºzenli saƒülƒ±k takibi yapanlar', reach: 4800000 },
                    { id: 'saglik_h_3', name: 'Wellness T√ºketicileri', desc: 'Spa ve wellness hizmeti alanlar', reach: 2100000 },
                    { id: 'saglik_h_4', name: 'Online Saƒülƒ±k Danƒ±≈üanlarƒ±', desc: 'Telehealth hizmetleri kullananlar', reach: 1400000 },
                ]
            },
            {
                id: 'spor_outdoor',
                name: 'Spor & Outdoor',
                icon: '‚õ∞Ô∏è',
                theme: 'theme-green',
                category: 'yasam',
                subs: [
                    { id: 'spor_1', name: 'Futbol Severler', desc: 'Futbol takip eden ve oynayanlar', reach: 12000000 },
                    { id: 'spor_2', name: 'Basketbol Tutkunlarƒ±', desc: 'NBA ve yerel lig takip√ßileri', reach: 4200000 },
                    { id: 'spor_3', name: 'Bisiklet√ßiler', desc: 'Hobi veya ula≈üƒ±m i√ßin bisiklet kullananlar', reach: 2800000 },
                    { id: 'spor_4', name: 'Doƒüa Y√ºr√ºy√º≈ü√ß√ºleri', desc: 'Trekking ve hiking yapanlar', reach: 1900000 },
                    { id: 'spor_5', name: 'Su Sporlarƒ± Tutkunlarƒ±', desc: 'Y√ºzme, s√∂rf, dalƒ±≈ü yapanlar', reach: 2400000 },
                ]
            },
            {
                id: 'emekliler',
                name: 'Emekliler & 55+',
                icon: 'üë¥',
                theme: 'theme-amber',
                category: 'yasam',
                subs: [
                    { id: 'emekli_1', name: 'Aktif Emekliler', desc: 'Sosyal ve fiziksel olarak aktif 55+', reach: 3400000 },
                    { id: 'emekli_2', name: 'Dijital G√∂√ßmenler', desc: 'Teknolojiyi yeni √∂ƒürenen ya≈ülƒ±lar', reach: 2100000 },
                    { id: 'emekli_3', name: 'Torun Bakƒ±cƒ±larƒ±', desc: 'Torunlarƒ±yla ilgilenen b√ºy√ºkler', reach: 2800000 },
                    { id: 'emekli_4', name: 'Emekli Gezginler', desc: 'Seyahat eden emekliler', reach: 1200000 },
                ]
            },
            {
                id: 'b2b_profesyoneller',
                name: 'B2B Profesyoneller',
                icon: 'üè¢',
                theme: 'theme-indigo',
                category: 'finans',
                subs: [
                    { id: 'b2b_1', name: 'IT Karar Vericiler', desc: 'Teknoloji satƒ±n alma yetkilileri', reach: 420000 },
                    { id: 'b2b_2', name: 'Pazarlama M√ºd√ºrleri', desc: 'Marketing departman y√∂neticileri', reach: 280000 },
                    { id: 'b2b_3', name: 'ƒ∞K Profesyonelleri', desc: 'ƒ∞nsan kaynaklarƒ± uzmanlarƒ±', reach: 350000 },
                    { id: 'b2b_4', name: 'Satƒ±≈ü Temsilcileri', desc: 'B2B satƒ±≈ü profesyonelleri', reach: 620000 },
                    { id: 'b2b_5', name: 'Finans Y√∂neticileri', desc: 'CFO ve finans departmanlarƒ±', reach: 180000 },
                ]
            },
            {
                id: 'oyuncullar',
                name: 'Oyuncular & Gamers',
                icon: 'üéÆ',
                theme: 'theme-purple',
                category: 'teknoloji',
                subs: [
                    { id: 'game_1', name: 'Mobil Oyuncular', desc: 'Telefonda oyun oynayanlar', reach: 14000000 },
                    { id: 'game_2', name: 'PC Gamers', desc: 'Bilgisayarda oyun oynayanlar', reach: 4800000 },
                    { id: 'game_3', name: 'Konsol Oyuncularƒ±', desc: 'PlayStation, Xbox sahipleri', reach: 2200000 },
                    { id: 'game_4', name: 'Hardcore Gamers', desc: 'G√ºnde 3+ saat oynayanlar', reach: 1800000 },
                    { id: 'game_5', name: 'Casual Gamers', desc: 'Ara sƒ±ra oyun oynayanlar', reach: 8500000 },
                ]
            },
            {
                id: 'lukstuketiciler',
                name: 'L√ºks T√ºketiciler',
                icon: 'üíé',
                theme: 'theme-amber',
                category: 'alisveris',
                subs: [
                    { id: 'luks_1', name: 'Ultra Premium Segment', desc: 'En √ºst gelir grubu', reach: 280000 },
                    { id: 'luks_2', name: 'Aspirasyonel L√ºks', desc: 'L√ºkse eri≈ümek isteyen orta-√ºst', reach: 1400000 },
                    { id: 'luks_3', name: 'Deneyim L√ºks√º', desc: '√úr√ºn yerine deneyim harcayanlar', reach: 980000 },
                    { id: 'luks_4', name: 'Miras T√ºketiciler', desc: 'Aile serveti olan bireyler', reach: 180000 },
                ]
            },
            {
                id: 'akaryakit',
                name: 'Akaryakƒ±t & Enerji',
                icon: '‚õΩ',
                theme: 'theme-red',
                category: 'alisveris',
                subs: [
                    { id: 'yakit_1', name: 'Y√ºksek Kilometre S√ºr√ºc√ºler', desc: 'Aylƒ±k 2000+ km yapanlar', reach: 3200000 },
                    { id: 'yakit_2', name: 'Premium Yakƒ±t Tercih Edenler', desc: 'Kaliteli yakƒ±t i√ßin ekstra √∂deyenler', reach: 1800000 },
                    { id: 'yakit_3', name: 'Filo Y√∂neticileri', desc: 'Kurumsal ara√ß filolarƒ±nƒ± y√∂netenler', reach: 120000 },
                    { id: 'yakit_4', name: 'Yakƒ±t Kartƒ± Kullanƒ±cƒ±larƒ±', desc: 'Kurumsal veya bireysel kart sahipleri', reach: 2400000 },
                    { id: 'yakit_5', name: 'ƒ∞stasyon Sadƒ±klarƒ±', desc: 'Belirli markaya sadƒ±k s√ºr√ºc√ºler', reach: 4100000 },
                ]
            },
            {
                id: 'convenience',
                name: 'Convenience & Hƒ±z',
                icon: '‚ö°',
                theme: 'theme-cyan',
                category: 'alisveris',
                subs: [
                    { id: 'conv_1', name: 'Yol √úst√º Alƒ±≈üveri≈ü√ßiler', desc: 'Hareket halindeyken alƒ±≈üveri≈ü yapanlar', reach: 6800000 },
                    { id: 'conv_2', name: 'Grab & Go T√ºketiciler', desc: 'Hƒ±zlƒ± atƒ±≈ütƒ±rmalƒ±k alanlar', reach: 5200000 },
                    { id: 'conv_3', name: 'Gece Ku≈ülarƒ±', desc: 'Gece saatlerinde aktif olanlar', reach: 3400000 },
                    { id: 'conv_4', name: 'Acil ƒ∞htiya√ß Alƒ±cƒ±larƒ±', desc: 'Son dakika ihtiya√ß giderme', reach: 7200000 },
                ]
            },
            {
                id: 'yerel_topluluklar',
                name: 'Yerel Topluluklar',
                icon: 'üìç',
                theme: 'theme-teal',
                category: 'yasam',
                subs: [
                    { id: 'yerel_1', name: 'ƒ∞stanbul - Avrupa', desc: 'ƒ∞stanbul Avrupa yakasƒ± sakinleri', reach: 9200000 },
                    { id: 'yerel_2', name: 'ƒ∞stanbul - Anadolu', desc: 'ƒ∞stanbul Anadolu yakasƒ± sakinleri', reach: 6800000 },
                    { id: 'yerel_3', name: 'Ankara Metropoliten', desc: 'Ankara b√ºy√ºk≈üehir sakinleri', reach: 5600000 },
                    { id: 'yerel_4', name: 'ƒ∞zmir & Ege', desc: 'Ege b√∂lgesi kentleri', reach: 4400000 },
                    { id: 'yerel_5', name: 'Antalya & Akdeniz', desc: 'Akdeniz sahil ≈üeridi', reach: 2800000 },
                ]
            },
            {
                id: 'mevsimsel',
                name: 'Mevsimsel Segmentler',
                icon: 'üóìÔ∏è',
                theme: 'theme-orange',
                category: 'alisveris',
                subs: [
                    { id: 'mevsim_1', name: 'Yaz Tatilcileri', desc: 'Yaz aylarƒ±nda tatil yapanlar', reach: 8400000 },
                    { id: 'mevsim_2', name: 'Kƒ±≈ü Sporlarƒ± Tutkunlarƒ±', desc: 'Kayak ve kƒ±≈ü tatili yapanlar', reach: 1200000 },
                    { id: 'mevsim_3', name: 'Bayram Gezginleri', desc: 'Dini bayramlarda seyahat edenler', reach: 6200000 },
                    { id: 'mevsim_4', name: 'Yƒ±lba≈üƒ± Alƒ±≈üveri≈ü√ßileri', desc: 'Yƒ±lsonu harcama yapanlar', reach: 12000000 },
                ]
            },
            {
                id: 'gelir_gruplari',
                name: 'Gelir Gruplarƒ±',
                icon: 'üìä',
                theme: 'theme-indigo',
                category: 'finans',
                subs: [
                    { id: 'gelir_1', name: '√úst Gelir (A)', desc: 'En y√ºksek %10 gelir grubu', reach: 2800000 },
                    { id: 'gelir_2', name: '√úst-Orta Gelir (B)', desc: 'Ortanƒ±n √ºst√º gelir grubu', reach: 6200000 },
                    { id: 'gelir_3', name: 'Orta Gelir (C1)', desc: 'Orta gelir grubu', reach: 12000000 },
                    { id: 'gelir_4', name: 'Alt-Orta Gelir (C2)', desc: 'Ortanƒ±n altƒ± gelir grubu', reach: 14000000 },
                    { id: 'gelir_5', name: 'Deƒüer Odaklƒ± (D+)', desc: 'B√ºt√ße bilin√ßli segment', reach: 18000000 },
                ]
            },
            {
                id: 'dijital_davranis',
                name: 'Dijital Davranƒ±≈ü',
                icon: 'üåê',
                theme: 'theme-cyan',
                category: 'teknoloji',
                subs: [
                    { id: 'dijital_1', name: 'Mobil First Kullanƒ±cƒ±lar', desc: '√ñncelikli mobil cihaz kullananlar', reach: 28000000 },
                    { id: 'dijital_2', name: 'Multi-Device Kullanƒ±cƒ±lar', desc: '√áoklu cihaz kullananlar', reach: 12000000 },
                    { id: 'dijital_3', name: 'App Power Users', desc: 'Yoƒüun mobil uygulama kullanƒ±cƒ±larƒ±', reach: 8400000 },
                    { id: 'dijital_4', name: 'E-posta Aktif Kullanƒ±cƒ±lar', desc: 'E-posta pazarlamasƒ±na duyarlƒ±', reach: 14000000 },
                    { id: 'dijital_5', name: 'Push Notification A√ßƒ±k', desc: 'Bildirimlere izin verenler', reach: 18000000 },
                ]
            },
        ];

        let selectedSegments = new Set();
        let currentFilter = 'all';

        function init() {
            renderSegments();
            updateStats();
        }

        function renderSegments() {
            const grid = document.getElementById('segmentGrid');
            const search = document.getElementById('searchInput').value.toLowerCase();
            
            let filtered = segmentLibrary;
            
            // Category filter
            if (currentFilter !== 'all') {
                filtered = filtered.filter(p => p.category === currentFilter);
            }
            
            // Search filter
            if (search) {
                filtered = filtered.filter(p => 
                    p.name.toLowerCase().includes(search) ||
                    p.subs.some(s => s.name.toLowerCase().includes(search) || s.desc.toLowerCase().includes(search))
                );
            }

            if (filtered.length === 0) {
                grid.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üîç</div><div>Aramanƒ±zla e≈üle≈üen segment bulunamadƒ±</div></div>';
                return;
            }

            grid.innerHTML = filtered.map(parent => {
                const selectedCount = parent.subs.filter(s => selectedSegments.has(s.id)).length;
                const isExpanded = search || selectedCount > 0;
                
                return `
                    <div class="parent-card ${parent.theme} ${isExpanded ? 'expanded' : ''}" data-id="${parent.id}">
                        <div class="parent-header" onclick="toggleParent('${parent.id}')">
                            <div class="parent-info">
                                <div class="parent-icon">${parent.icon}</div>
                                <div>
                                    <div class="parent-name">${parent.name}</div>
                                    <div class="parent-count">${parent.subs.length} alt segment${selectedCount > 0 ? ` ‚Ä¢ <span style="color:#4fc3f7">${selectedCount} se√ßili</span>` : ''}</div>
                                </div>
                            </div>
                            <div class="parent-actions">
                                <button class="select-all-btn" onclick="event.stopPropagation(); toggleAllSubs('${parent.id}')">
                                    ${selectedCount === parent.subs.length ? 'Hi√ßbirini Se√ßme' : 'T√ºm√ºn√º Se√ß'}
                                </button>
                                <span class="expand-icon">‚ñº</span>
                            </div>
                        </div>
                        <div class="sub-segments">
                            ${parent.subs.map(sub => `
                                <div class="sub-segment ${selectedSegments.has(sub.id) ? 'selected' : ''}" onclick="toggleSub('${sub.id}')">
                                    <div class="checkbox ${selectedSegments.has(sub.id) ? 'checked' : ''}"></div>
                                    <div class="sub-info">
                                        <div class="sub-name">${sub.name}</div>
                                        <div class="sub-desc">${sub.desc}</div>
                                    </div>
                                    <div class="sub-meta">
                                        <span class="meta-tag">${formatReach(sub.reach)}</span>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function formatReach(num) {
            if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
            if (num >= 1000) return (num / 1000).toFixed(0) + 'K';
            return num.toString();
        }

        function toggleParent(parentId) {
            const card = document.querySelector(`.parent-card[data-id="${parentId}"]`);
            card.classList.toggle('expanded');
        }

        function toggleSub(subId) {
            if (selectedSegments.has(subId)) {
                selectedSegments.delete(subId);
            } else {
                selectedSegments.add(subId);
            }
            renderSegments();
            updateUI();
        }

        function toggleAllSubs(parentId) {
            const parent = segmentLibrary.find(p => p.id === parentId);
            const allSelected = parent.subs.every(s => selectedSegments.has(s.id));
            
            parent.subs.forEach(sub => {
                if (allSelected) {
                    selectedSegments.delete(sub.id);
                } else {
                    selectedSegments.add(sub.id);
                }
            });
            
            renderSegments();
            updateUI();
        }

        function setFilter(filter) {
            currentFilter = filter;
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.filter === filter);
            });
            renderSegments();
        }

        function filterSegments() {
            renderSegments();
        }

        function updateUI() {
            const count = selectedSegments.size;
            document.getElementById('selectedCount').textContent = count;
            document.getElementById('goToQuadrant').disabled = count < 3;
            
            const footer = document.getElementById('footerActions');
            footer.classList.toggle('visible', count > 0);
            
            if (count < 3) {
                document.getElementById('footerInfo').textContent = `En az 3 segment se√ßin (${3 - count} daha)`;
            } else {
                document.getElementById('footerInfo').textContent = `${count} segment se√ßildi, Quadrant'a gidebilirsiniz`;
            }
        }

        function updateStats() {
            const totalSubs = segmentLibrary.reduce((acc, p) => acc + p.subs.length, 0);
            document.getElementById('totalParents').textContent = segmentLibrary.length;
            document.getElementById('totalSubs').textContent = totalSubs;
        }

        function clearSelection() {
            selectedSegments.clear();
            renderSegments();
            updateUI();
        }

        function goToQuadrant() {
            if (selectedSegments.size < 3) return;
            
            // Se√ßilen segmentleri localStorage'a kaydet
            const selectedData = [];
            segmentLibrary.forEach(parent => {
                parent.subs.forEach(sub => {
                    if (selectedSegments.has(sub.id)) {
                        selectedData.push({
                            id: sub.id,
                            name: sub.name,
                            parent: parent.name,
                            parentIcon: parent.icon,
                            desc: sub.desc,
                            reach: sub.reach,
                            theme: parent.theme
                        });
                    }
                });
            });
            
            localStorage.setItem('selectedSegments', JSON.stringify(selectedData));
            window.location.href = 'segmentation-quadrant/';
        }

        // Initialize
        init();
    </script>
</body>
</html>